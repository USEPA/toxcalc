<form autocomplete="off" novalidate [formGroup]="ingestionForm">
    <div>
        <label for="concen">Concentration: </label>
        <input
          type="number"
          id="concen"
          formControlName="concen"
          />
        <label for="concenUnitType">Base measurement: </label>
        <select formControlName="concenUnitsType" id="ConcenUnitType">
            <option *ngFor="let option of concenUnitsTypeOptions" [value]="option">
                {{option}}
            </option>
        </select>
        <select formControlName="concenUnitsMassVol" *ngIf="ingestionForm.get('concenUnitsType').value === 'mass/volume'">
            <option *ngFor="let ratio of concenUnitsMassVolOptions" [ngValue]="ratio">
                {{ratio.units}}
            </option>
        </select>
        <select formControlName="concenUnitsVolVol" *ngIf="ingestionForm.get('concenUnitsType').value === 'volume/volume'">
            <option *ngFor="let ratio of concenUnitsVolVolOptions" [ngValue]="ratio">
                {{ratio.units}}
            </option>
        </select>
    </div>
    <!--TODO: bind unit type to boolean/enum in ts file when selection is changed-->
    <div *ngIf="ingestionForm.get('concenUnitsType').value === 'volume/volume'">
        <label for="substanceDensity">Substance density: </label>
        <input type="number" id="substanceDensity" formControlName="substanceDensity" /> g/mL
    </div>
    <div>
        <label for="intake">Intake: </label>
        <input
          type="number"
          id="intake"
          formControlName="intake"
          />
        <select formControlName="intakeUnits">
            <option *ngFor="let ratio of intakeUnitsOptions" [ngValue]="ratio">
                {{ratio.units}}
            </option>
        </select>
    </div>
    <div>
        <label for="weight">Body Weight: </label>
        <input
          type="number"
          id="weight"
          formControlName="weight"
          />
        <select formControlName="weightUnits">
            <option *ngFor="let ratio of weightUnitsOptions" [ngValue]="ratio">
                {{ratio.units}}
            </option>
        </select>
    </div>
    <div>
        <label for="dose">Dose: </label>
        <input
          type="number"
          id="dose"
          formControlName="dose"
          /> mg/kg body weight/day
    </div>
    <div>
        <button (click)="calculate()" [disabled]="!ingestionForm.valid">Calculate!</button>
        <button (click)="clear()">Clear</button>
    </div>
</form>
