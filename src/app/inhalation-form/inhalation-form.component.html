<sd-return-to-calculators></sd-return-to-calculators>
<div class="container py-3">
  <p class="lead font-weight-bold mb-4">Inhalation Dose Conversion Calculator</p>
  <p><b>Convert between concentration unit types:</b></p>
  <form autocomplete="off" novalidate (change)="conversionFormChange()">
    <sd-calc-row #concenVolVolRow>
      <ng-template sdCalcRowLabel></ng-template>
      <ng-template sdCalcRowInput>
        <input
          class="form-control"
          id="concenVolVol"
          sdInputPosNum
          (blur)="conversionInputBlur()"
          (focus)="conversionInputFocus($event.target)"
          #concenVolVol
          />
        <sd-select (click)="conversionFormChange();" #concenUnitsVolVol>
          <option *ngFor="let ratio of concenUnitsVolVolOptions" [value]="ratio" [label]="ratio.units"></option>
        </sd-select>
      </ng-template>
    </sd-calc-row>
    <sd-calc-row #molarMassRow>
      <ng-template sdCalcRowLabel sdCalcRowLabelFor="molarMass">
        Molar Mass
      </ng-template>
      <ng-template sdCalcRowInput>
        <input
          class="form-control"
          id="molarMass"
          sdInputPosNum
          (blur)="conversionInputBlur()"
          (focus)="conversionInputFocus($event.target)"
          #molarMass
          />
        <div class="input-group-append">
          <span class="input-group-text">g/mol</span>
        </div>
      </ng-template>
    </sd-calc-row>
    <sd-calc-row #concenMassVolRow>
      <ng-template sdCalcRowLabel></ng-template>
      <ng-template sdCalcRowInput>
        <input
          class="form-control"
          id="concenMassVol"
          sdInputPosNum
          (blur)="conversionInputBlur()"
          (focus)="conversionInputFocus($event.target)"
          #concenMassVol
          />
        <sd-select (click)="conversionFormChange();" #concenUnitsMassVol>
          <option *ngFor="let ratio of concenUnitsMassVolOptions" [value]="ratio" [label]="ratio.units"></option>
        </sd-select>
      </ng-template>
    </sd-calc-row>
    <div class="form-group form-row">
      <button class="btn btn-primary mr-3" (click)="conversionUpdateErrors(true)">Convert!</button>
      <button class="btn btn-secondary" (click)="clearConversion()">Clear</button>
    </div>
</form>
<hr />
<p><b>All calculations are for a temperature of 25 degrees Celsius and 1 atmosphere of pressure (SATP)</b></p>
<form autocomplete="off" novalidate [formGroup]="inhalationForm">
  <sd-calc-row>
    <ng-template sdCalcRowLabel sdCalcRowLabelFor="concen">
      Concentration
    </ng-template>
    <ng-template sdCalcRowInput>
        <input
          class="form-control text-right"
          type="number"
          id="concen"
          formControlName="concen"
          />
        <sd-select formControlName="concenUnits" (click)="conversionFormChange();">
          <option *ngFor="let ratio of concenUnitsMassVolOptions" [value]="ratio" [label]="ratio.units"></option>
        </sd-select>
    </ng-template>
  </sd-calc-row>
  <sd-calc-row>
    <ng-template sdCalcRowLabel sdCalcRowLabelFor="intake">
      Intake Rate
    </ng-template>
    <ng-template sdCalcRowInput>
        <input
          class="form-control text-right"
          type="number"
          id="intake"
          formControlName="intake"
          />
        <sd-select formControlName="intakeUnits">
          <option *ngFor="let ratio of intakeUnitsOptions" [value]="ratio" [label]="ratio.units"></option>
        </sd-select>
    </ng-template>
  </sd-calc-row>
  <sd-calc-row>
    <ng-template sdCalcRowLabel sdCalcRowLabelFor="weight">
      Body Weight
    </ng-template>
    <ng-template sdCalcRowInput>
        <input
          class="form-control text-right"
          type="number"
          id="weight"
          formControlName="weight"
          />
        <sd-select formControlName="weightUnits">
          <option *ngFor="let ratio of weightUnitsOptions" [value]="ratio" [label]="ratio.units"></option>
        </sd-select>
    </ng-template>
  </sd-calc-row>
  <sd-calc-row>
    <ng-template sdCalcRowLabel sdCalcRowLabelFor="dose">
      Dose
    </ng-template>
    <ng-template sdCalcRowInput>
        <input
          class="form-control text-right"
          type="number"
          id="dose"
          formControlName="dose"
          />
        <sd-select formControlName="doseUnits">
          <option *ngFor="let ratio of doseUnitsOptions" [value]="ratio" [label]="ratio.units"></option>
        </sd-select>
    </ng-template>
  </sd-calc-row>
    <div class="form-group form-row">
      <button class="btn btn-primary mr-3" (click)="calculate()" [disabled]="!inhalationForm.valid">Calculate!</button>
      <button class="btn btn-secondary" (click)="clearInhalation()">Clear</button>
    </div>
</form>
<hr />
