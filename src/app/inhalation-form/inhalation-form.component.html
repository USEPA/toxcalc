<sd-return-to-calculators></sd-return-to-calculators>
<div class="container py-3">
  <p class="lead font-weight-bold mb-4">Inhalation Dose Conversion Calculator</p>
  <p><b>Convert between concentration unit types:</b></p>
  <form autocomplete="off" novalidate (change)="conversionFormChange()">
    <sd-calc-row #concenVolVolRow>
      <ng-template sdCalcRowLabel></ng-template>
      <ng-template sdCalcRowInput>
        <input
          class="form-control"
          id="concenVolVol"
          sdInputPosNum
          (blur)="conversionInputBlur()"
          (focus)="conversionInputFocus($event.target)"
          #concenVolVol
          />
        <sd-select (click)="conversionFormChange();" #concenUnitsVolVol>
          <option *ngFor="let ratio of concenUnitsVolVolOptions" [value]="ratio" [label]="ratio.units"></option>
        </sd-select>
      </ng-template>
    </sd-calc-row>
    <sd-calc-row #molarMassRow>
      <ng-template sdCalcRowLabel sdCalcRowLabelFor="molarMass">
        Molar Mass
      </ng-template>
      <ng-template sdCalcRowInput>
        <input
          class="form-control"
          id="molarMass"
          sdInputPosNum
          (blur)="conversionInputBlur()"
          (focus)="conversionInputFocus($event.target)"
          #molarMass
          />
        <div class="input-group-append">
          <span class="input-group-text">g/mol</span>
        </div>
      </ng-template>
    </sd-calc-row>
    <sd-calc-row #concenMassVolRow>
      <ng-template sdCalcRowLabel></ng-template>
      <ng-template sdCalcRowInput>
        <input
          class="form-control"
          id="concenMassVol"
          sdInputPosNum
          (blur)="conversionInputBlur()"
          (focus)="conversionInputFocus($event.target)"
          #concenMassVol
          />
        <sd-select (click)="conversionFormChange();" #concenUnitsMassVol>
          <option *ngFor="let ratio of concenUnitsMassVolOptions" [value]="ratio" [label]="ratio.units"></option>
        </sd-select>
      </ng-template>
    </sd-calc-row>
    <div class="form-group form-row">
      <button class="btn btn-primary mr-3" (click)="conversionUpdateErrors(true)">Convert!</button>
      <button class="btn btn-secondary" (click)="clearConversion()">Clear</button>
    </div>
</form>
<hr />
<p><b>All calculations are for a temperature of 25 degrees Celsius and 1 atmosphere of pressure (SATP)</b></p>
<form autocomplete="off" novalidate (change)="inhalationFormChange()">
  <sd-calc-row #concenRow>
    <ng-template sdCalcRowLabel sdCalcRowLabelFor="concen">
      Concentration
    </ng-template>
    <ng-template sdCalcRowInput>
        <input
          class="form-control"
          id="concen"
          sdInputPosNum
          (blur)="inhalationInputBlur()"
          (focus)="inhalationInputFocus($event.target)"
          #concen
          />
        <sd-select (click)="inhalationFormChange();" #concenUnits>
          <option *ngFor="let ratio of concenUnitsMassVolOptions" [value]="ratio" [label]="ratio.units"></option>
        </sd-select>
    </ng-template>
  </sd-calc-row>
  <sd-calc-row #intakeRow>
    <ng-template sdCalcRowLabel sdCalcRowLabelFor="intake">
      Intake Rate
    </ng-template>
    <ng-template sdCalcRowInput>
        <input
          class="form-control"
          id="intake"
          sdInputPosNum
          (blur)="inhalationInputBlur()"
          (focus)="inhalationInputFocus($event.target)"
          #intake
          />
        <sd-select (click)="inhalationFormChange();" #intakeUnits>
          <option *ngFor="let ratio of intakeUnitsOptions" [value]="ratio" [label]="ratio.units"></option>
        </sd-select>
    </ng-template>
  </sd-calc-row>
  <sd-calc-row #weightRow>
    <ng-template sdCalcRowLabel sdCalcRowLabelFor="weight">
      Body Weight
    </ng-template>
    <ng-template sdCalcRowInput>
        <input
          class="form-control"
          id="weight"
          sdInputPosNum
          (blur)="inhalationInputBlur()"
          (focus)="inhalationInputFocus($event.target)"
          #weight
          />
        <sd-select (click)="inhalationFormChange();" #weightUnits>
          <option *ngFor="let ratio of weightUnitsOptions" [value]="ratio" [label]="ratio.units"></option>
        </sd-select>
    </ng-template>
  </sd-calc-row>
  <sd-calc-row #doseRow>
    <ng-template sdCalcRowLabel sdCalcRowLabelFor="dose">
      Dose
    </ng-template>
    <ng-template sdCalcRowInput>
        <input
          class="form-control"
          id="dose"
          sdInputPosNum
          (blur)="inhalationInputBlur()"
          (focus)="inhalationInputFocus($event.target)"
          #dose
          />
        <sd-select (click)="inhalationFormChange();" #doseUnits>
          <option *ngFor="let ratio of doseUnitsOptions" [value]="ratio" [label]="ratio.units"></option>
        </sd-select>
    </ng-template>
  </sd-calc-row>
  <div class="form-row">
    <ngb-alert *ngIf="inhalationInternalError" [dismissible]="false" type="danger" class="w-100">
      <p class="lead">Internal calculator error!</p>
      <p class="px-3"><kbd>{{inhalationInternalError}}</kbd></p>
      <p class="mb-0">Click <strong>Clear</strong> to clear this error and reset the form.</p>
    </ngb-alert>
  </div>
  <div class="form-group form-row">
    <button class="btn btn-primary mr-3" (click)="inhalationUpdateErrors(true)">Calculate!</button>
    <button class="btn btn-secondary" (click)="clearInhalation()">Clear</button>
  </div>
</form>
  <p class="mt-3">To get the molar mass, add the atomic weights of all atoms in the substance. To find the atomic weights, you may use the <a rel="noopener" target="_blank" href="https://en.wikipedia.org/wiki/File:Periodic_Table_Of_Elements.svg">Periodic Table</a> or look up the molar mass from a trusted source <a rel="noopener" target="_blank" href="https://chem.nlm.nih.gov/chemidplus/">ChemIDPlus</a>.</p>
<hr />
